(this.webpackJsonptodolist2=this.webpackJsonptodolist2||[]).push([[0],{29:function(t,e,a){t.exports=a(59)},34:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(11),s=a.n(r),i=(a(34),a(1)),c=a(12),l=a(3),d=a(2),u=a(4),p=(a(8),function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={error:!1,title:""},a.onChangingValue=function(t){a.setState({error:!1,title:t.currentTarget.value})},a.onAddItemClick=function(){var t=a.state.title;a.setState({title:""}),""===t?a.setState({error:!0}):(a.setState({error:!1}),a.props.addTask(t))},a.onEnterPress=function(t){"Enter"===t.key&&a.onAddItemClick()},a.render=function(){var t=a.state.error?"error":"";return o.a.createElement("div",{className:"todoList-header"},o.a.createElement("h3",{className:"todoList-header__title"},a.props.title),o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{onKeyPress:a.onEnterPress,onChange:a.onChangingValue,className:t,value:a.state.title,type:"text",placeholder:"New item name"}),o.a.createElement("button",{onClick:a.onAddItemClick},"Add")))},a}return Object(u.a)(e,t),e}(o.a.Component)),f=a(13),h=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:a.props.task.title,classForInput:""},a.activateEditMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){""!==a.state.title?(a.props.changeTitle(a.props.task,a.state.title),a.setState({editMode:!1})):a.setState({classForInput:"error"})},a.onTitleChanged=function(t){var e=t.currentTarget.value;a.setState({title:e})},a.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;a.props.changeStatus(a.props.task,e)},a.deleteTask=function(){a.props.deleteTask(a.props.task.id)},a.render=function(){var t=2===a.props.task.status?"todoList-task done":"todoList-task";return o.a.createElement("div",{className:t},o.a.createElement("input",{type:"checkbox",checked:2===a.props.task.status,onChange:a.onIsDoneChanged}),a.state.editMode?o.a.createElement("input",{className:a.state.classForInput,onChange:a.onTitleChanged,onBlur:a.deactivateEditMode,autoFocus:!0,value:a.state.title}):o.a.createElement("span",{onClick:a.activateEditMode},a.props.task.id," -",a.props.task.title),o.a.createElement("span",null,", priority: ",a.props.task.priority),o.a.createElement("button",{onClick:a.deleteTask},"X"))},a}return Object(u.a)(e,t),e}(o.a.Component),m=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){var t=a.props.tasks.map((function(t){return o.a.createElement(h,{deleteTask:a.props.deleteTask,task:t,changeTitle:a.props.changeTitle,changeStatus:a.props.changeStatus})}));return o.a.createElement("div",{className:"todoList-tasks"},t)},a}return Object(u.a)(e,t),e}(o.a.Component),k=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={isHidden:!1},a.onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.onHideFiltersClick=function(){var t=a.state.isHidden;a.setState({isHidden:!t})},a.onShowFiltersClick=function(){var t=a.state.isHidden;a.setState({isHidden:!t})},a.render=function(){var t="All"===a.props.filterValue?"filter-active":"",e="Completed"===a.props.filterValue?"filter-active":"",n="Active"===a.props.filterValue?"filter-active":"";return o.a.createElement("div",{className:"todoList-footer"},!a.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{onClick:a.onAllFilterClick,className:t},"All"),o.a.createElement("button",{onClick:a.onCompletedFilterClick,className:e},"Completed"),o.a.createElement("button",{onClick:a.onActiveFilterClick,className:n},"Active")),!a.state.isHidden&&o.a.createElement("span",{onClick:a.onHideFiltersClick},"Hide"),a.state.isHidden&&o.a.createElement("span",{onClick:a.onShowFiltersClick},"Show"))},a}return Object(u.a)(e,t),e}(o.a.Component),b=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){return o.a.createElement("div",{className:"todoList-header"},o.a.createElement("h3",{className:"todoList-header__title"},a.props.title,o.a.createElement("button",{onClick:a.props.deleteToDoList},"X")))},a}return Object(u.a)(e,t),e}(o.a.Component),O=a(10),v=a(17);function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){Object(f.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g="TODOLIST/REDUCER/ADD_TODOLIST",j="TODOLIST/REDUCER/ADD_TASK",C="TODOLIST/REDUCER/CHANGE_TASK",w="TODOLIST/REDUCER/DELETE_TASK",y="TODOLIST/REDUCER/DELETE_TODOLIST",D="TODOLIST/REDUCER/SET_TODOLISTS",S="TODOLIST/REDUCER/SET_TASKS",A={todolists:[]},L=a(7),I=a.n(L);function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach((function(e){Object(f.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var N=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).nextTaskId=0,a.state={filterValue:"All",tasks:[]},a.restoreState=function(){var t=a.props.id;I.a.get("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(t,"/tasks"),{withCredentials:!0,"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}).then((function(e){var n=e.data.items;a.props.setTasks(n,t)}))},a.changeFilter=function(t){a.setState({filterValue:t})},a.addTask=function(t){var e=a.props.id;I.a.post("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(e,"/tasks"),{title:t},{withCredentials:!0,headers:{"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}}).then((function(t){var n=t.data.data.item;a.props.addNewTask(n,e)}))},a.changeTask=function(t,e){var n=a.props.id;I.a.put("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(n,"/tasks/").concat(t.id),e,{withCredentials:!0,headers:{"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}}).then((function(t){0===t.data.resultCode&&a.props.changeTask(e,n)}))},a.changeStatus=function(t,e){var n=F({},t,{status:e});a.changeTask(t,n)},a.changeTitle=function(t,e){var n=F({},t,{title:e});a.changeTask(t,n)},a.deleteToDoList=function(){var t=a.props.id;I.a.delete("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(t),{withCredentials:!0,headers:{"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}}).then((function(e){0===e.data.resultCode&&a.props.deleteToDoList(t)}))},a.deleteTask=function(t){var e=a.props.id;I.a.delete("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(e,"/tasks/").concat(t),{withCredentials:!0,headers:{"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}}).then((function(n){0===n.data.resultCode&&a.props.deleteTask(e,t)}))},a.render=function(){var t=a.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"todoList"},o.a.createElement("div",{className:"todoList-header"},o.a.createElement(b,{deleteToDoList:a.deleteToDoList,title:a.props.title}),o.a.createElement(p,{addTask:a.addTask})),o.a.createElement(m,{changeTitle:a.changeTitle,deleteTask:a.deleteTask,changeStatus:a.changeStatus,tasks:e.filter((function(t){switch(a.state.filterValue){case"All":return!0;case"Completed":return 2===t.status;case"Active":return 0===t.status;default:return!0}}))}),o.a.createElement(k,{changeFilter:a.changeFilter,filterValue:a.state.filterValue})))},a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),R=Object(O.b)((function(t){return{toDoList:t.todolists}}),(function(t){return{addNewTask:function(e,a){t(function(t,e){return{type:j,newTask:t,todolistId:e}}(e,a))},setTasks:function(e,a){t(function(t,e){return{type:S,tasks:t,todolistId:e}}(e,a))},changeTask:function(e,a){t(function(t,e){return{type:C,newTask:t,todolistId:e}}(e,a))},deleteToDoList:function(e){t(function(t){return{type:y,todolistId:t}}(e))},deleteTask:function(e,a){t(function(t,e){return{type:w,todolistId:t,taskId:e}}(e,a))}}}))(N),H=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).restoreState=function(){I.a.get("https://social-network.samuraijs.com/api/1.1/todo-lists",{withCredentials:!0,"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}).then((function(t){a.props.setTodoLists(t.data)}))},a.addToDoList=function(t){I.a.post("https://social-network.samuraijs.com/api/1.1/todo-lists",{title:t},{withCredentials:!0,headers:{"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}}).then((function(t){a.props.addToDoList(t.data.data.item)}))},a.render=function(){var t=a.props.toDoList.map((function(t){return o.a.createElement(R,{id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(p,{addTask:a.addToDoList})),o.a.createElement("div",{className:"App"},t))},a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),K=Object(O.b)((function(t){return{toDoList:t.todolists}}),(function(t){return{addToDoList:function(e){t(function(t){return{type:g,newToDoList:t}}(e))},setTodoLists:function(e){t(function(t){return{type:D,todolists:t}}(e))}}}))(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(14),M=Object(_.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return E({},t,{todolists:[].concat(Object(v.a)(t.todolists),[e.newToDoList])});case D:return E({},t,{todolists:e.todolists.map((function(t){return E({},t,{tasks:[]})}))});case S:return E({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?E({},t,{tasks:e.tasks}):t}))});case j:return E({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?E({},t,{tasks:[].concat(Object(v.a)(t.tasks),[e.newTask])}):t}))});case C:return E({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?E({},t,{tasks:t.tasks.map((function(t){return t.id!==e.newTask.id?t:e.newTask}))}):t}))});case w:return E({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?E({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case y:return E({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});default:return t}}));s.a.render(o.a.createElement(O.a,{store:M},o.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},8:function(t,e,a){}},[[29,1,2]]]);
//# sourceMappingURL=main.4a381be5.chunk.js.map