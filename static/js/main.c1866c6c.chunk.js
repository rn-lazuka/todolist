(this.webpackJsonptodolist2=this.webpackJsonptodolist2||[]).push([[0],{105:function(t,e,n){"use strict";n.r(e);var a,r,o=n(0),s=n.n(o),i=n(7),c=n.n(i),l=(n(80),n(12)),u=n(32),d=n(14),p=n(13),f=n(15),h=(n(22),n(5)),v=n(133),m=Object(h.a)({root:{type:"contained",color:"primary"}})(v.a),k=n(136),T=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={error:"",title:""},n.onChangingValue=function(t){n.setState({error:"",title:t.currentTarget.value})},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t?n.setState({error:"Field is required"}):(n.setState({error:""}),n.props.addTask(t))},n.onEnterPress=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"todoList-newTaskForm"},s.a.createElement(k.a,{variant:"outlined",value:n.state.title,onChange:n.onChangingValue,onKeyPress:n.onEnterPress,error:!!n.state.error,helperText:n.state.error,placeholder:"New item name"}),s.a.createElement(m,{onClick:n.onAddItemClick},"Add")))},n}return Object(f.a)(e,t),e}(s.a.Component),O=n(38),E=n(137),b=n(135),g=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:n.props.task.title,classForInput:""},n.activateEditMode=function(){n.setState({editMode:!0,title:n.props.task.title})},n.deactivateEditMode=function(){""!==n.state.title?(n.props.changeTitle(n.props.task,n.state.title),n.setState({editMode:!1})):n.setState({classForInput:"error"})},n.onTitleChanged=function(t){var e=t.currentTarget.value;n.setState({title:e})},n.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeStatus(n.props.task,e)},n.deleteTask=function(){n.props.deleteTask(n.props.task.id)},n.render=function(){var t=2===n.props.task.status?"todoList-task done":"todoList-task";return s.a.createElement("div",{className:t},s.a.createElement("input",{type:"checkbox",checked:2===n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?s.a.createElement(k.a,{variant:"outlined",value:n.state.title,onChange:n.onTitleChanged,onBlur:n.deactivateEditMode,autoFocus:!0,className:n.state.classForInput}):s.a.createElement("span",{onClick:n.activateEditMode},n.props.task.id," -",n.props.task.title),s.a.createElement(b.a,{onClick:n.deleteTask},s.a.createElement(E.a,null)))},n}return Object(f.a)(e,t),e}(s.a.Component),j=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).render=function(){var t=n.props.tasks.map((function(t){return s.a.createElement(g,{deleteTask:n.props.deleteTask,task:t,key:t.id,changeTitle:n.props.changeTitle,changeStatus:n.props.changeStatus})}));return s.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(f.a)(e,t),e}(s.a.Component),y=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onHideFiltersClick=function(){var t=n.state.isHidden;n.setState({isHidden:!t})},n.onShowFiltersClick=function(){var t=n.state.isHidden;n.setState({isHidden:!t})},n.render=function(){n.props.filterValue,n.props.filterValue,n.props.filterValue;return s.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&s.a.createElement("div",null,s.a.createElement(v.a,{onClick:n.onAllFilterClick,variant:"All"===n.props.filterValue?"outlined":"text",color:"primary"},"All"),s.a.createElement(v.a,{onClick:n.onCompletedFilterClick,variant:"Completed"===n.props.filterValue?"outlined":"text",color:"primary"},"Completed"),s.a.createElement(v.a,{onClick:n.onActiveFilterClick,variant:"Active"===n.props.filterValue?"outlined":"text",color:"primary"},"Active")),!n.state.isHidden&&s.a.createElement("span",{onClick:n.onHideFiltersClick},"Hide"),n.state.isHidden&&s.a.createElement("span",{onClick:n.onShowFiltersClick},"Show"))},n}return Object(f.a)(e,t),e}(s.a.Component),C=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={title:n.props.title,editMode:!1,classForInput:""},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){""!==n.state.title?(n.props.changeToDoListTitle(n.state.title),n.setState({editMode:!1})):n.setState({classForInput:"error"})},n.onTitleChanged=function(t){var e=t.currentTarget.value;n.setState({title:e})},n.render=function(){return s.a.createElement("div",{className:"todoList-header"},n.state.editMode?s.a.createElement("input",{className:n.state.classForInput,onChange:n.onTitleChanged,onBlur:n.deactivateEditMode,autoFocus:!0,value:n.state.title}):s.a.createElement("h3",{className:"todoList-header__title",onClick:n.activateEditMode},n.state.title),s.a.createElement(b.a,{onClick:n.props.deleteToDoList},s.a.createElement(E.a,null)))},n}return Object(f.a)(e,t),e}(s.a.Component),w=n(25),D=n(10),S=n.n(D),L=n(19),I=n(45),A=n(61),F=n.n(A).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}});!function(t){t[t.Success=0]="Success",t[t.Error=1]="Error"}(a||(a={})),function(t){t[t.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}));var x=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return F.post("/auth/login",{email:t,password:e,rememberMe:n,captcha:a}).then((function(t){return t.data}))},R=function(){return F.get("/todo-lists").then((function(t){return t.data}))},P=function(t){return F.post("/todo-lists",{title:t}).then((function(t){return t.data.data.item}))},M=function(t){return F.get("/todo-lists/".concat(t,"/tasks")).then((function(t){return t.data.items}))},N=function(t){return F.delete("/todo-lists/".concat(t))},H=function(t,e){return F.post("/todo-lists/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data.data.item}))},V=function(t,e){return F.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},_=function(t,e,n){return F.put("/todo-lists/".concat(t,"/tasks/").concat(e),n).then((function(t){if(0===t.data.resultCode)return t.data.data.item}))},U=function(t,e){return F.put("/todo-lists/".concat(t,"/"),{title:e})};function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(n,!0).forEach((function(e){Object(O.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var q="TODOLIST/REDUCER/ADD_TODOLIST",G="TODOLIST/REDUCER/ADD_TASK",W="TODOLIST/REDUCER/CHANGE_TASK",J="TODOLIST/REDUCER/DELETE_TASK",z="TODOLIST/REDUCER/DELETE_TODOLIST",Y="TODOLIST/REDUCER/SET_TODOLISTS",$="TODOLIST/REDUCER/SET_TASKS",Q={todolists:[]},X=function(t,e){return{type:$,tasks:t,todolistId:e}},Z=function(t,e){return{type:G,newTask:t,todolistId:e}},tt=function(t,e){return{type:W,newTask:t,todolistId:e}},et=function(t){return{type:z,todolistId:t}},nt=function(t,e){return{type:J,todolistId:t,taskId:e}},at=function(t,e){return{type:"TODOLIST/REDUCER/CHANGE_TODOLIST_TITLE",todolistId:t,title:e}};function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(n,!0).forEach((function(e){Object(O.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var st=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={filterValue:"All",tasks:[]},n.restoreState=function(){var t=n.props.id;n.props.setTasks(t)},n.changeFilter=function(t){n.setState({filterValue:t})},n.addTask=function(t){var e=n.props.id;n.props.addNewTask(t,e)},n.changeTask=function(t,e){var a=n.props.id;n.props.changeTask(t,e,a)},n.changeStatus=function(t,e){var a=ot({},t,{status:e});n.changeTask(t,a)},n.changeTitle=function(t,e){var a=ot({},t,{title:e});n.changeTask(t,a)},n.changeToDoListTitle=function(t){var e=n.props.id;n.props.changeToDoListTitle(e,t)},n.deleteToDoList=function(){var t=n.props.id;n.props.deleteToDoList(t)},n.deleteTask=function(t){var e=n.props.id;n.props.deleteTask(e,t)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"todoList"},s.a.createElement("div",null,s.a.createElement(C,{changeToDoListTitle:n.changeToDoListTitle,deleteToDoList:n.deleteToDoList,title:n.props.title}),s.a.createElement(T,{addTask:n.addTask})),s.a.createElement(j,{changeTitle:n.changeTitle,deleteTask:n.deleteTask,changeStatus:n.changeStatus,tasks:e.filter((function(t){switch(n.state.filterValue){case"All":return!0;case"Completed":return 2===t.status;case"Active":return 0===t.status;default:return!0}}))}),s.a.createElement(y,{changeFilter:n.changeFilter,filterValue:n.state.filterValue})))},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(s.a.Component),it=Object(w.b)((function(t){return{toDoLists:t.todolists.todolists}}),{changeTask:function(t,e,n){return function(){var a=Object(L.a)(S.a.mark((function a(r){var o;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_(n,t.id,e);case 2:o=a.sent,r(tt(o,n));case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},deleteTask:function(t,e){return function(){var n=Object(L.a)(S.a.mark((function n(a,r){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V(t,e);case 2:0===n.sent.data.resultCode&&a(nt(t,e));case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},deleteToDoList:function(t){return function(){var e=Object(L.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:0===e.sent.data.resultCode&&n(et(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},changeToDoListTitle:function(t,e){return function(){var n=Object(L.a)(S.a.mark((function n(a){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U(t,e);case 2:n.sent,a(at(t,e));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},setTasks:function(t){return function(){var e=Object(L.a)(S.a.mark((function e(n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:a=e.sent,n(X(a.reverse(),t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addNewTask:function(t,e){return function(){var n=Object(L.a)(S.a.mark((function n(a){var r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H(e,t);case 2:r=n.sent,a(Z(r,e));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}})(st),ct=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).addToDoList=function(t){n.props.addToDoList(t)},n.render=function(){var t=n.props.toDoLists.map((function(t){return s.a.createElement(it,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement(T,{addTask:n.addToDoList})),s.a.createElement("div",{className:"App"},t))},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.setTodoLists()}}]),e}(s.a.Component),lt=Object(w.b)((function(t){return{toDoLists:t.todolists.todolists}}),{setTodoLists:function(){return function(){var t=Object(L.a)(S.a.mark((function t(e){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("rn.lazuka@gmail.com","55555Ws",!0);case 2:if(t.sent.resultCode!==a.Success){t.next=8;break}return t.next=6,R();case 6:n=t.sent,e({type:Y,todolists:n});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addToDoList:function(t){return function(){var e=Object(L.a)(S.a.mark((function e(n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:a=e.sent,n({type:q,newToDoList:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ct);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ut=n(29),dt=n(62),pt=Object(ut.c)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case q:return B({},t,{todolists:[e.newToDoList].concat(Object(I.a)(t.todolists))});case Y:return B({},t,{todolists:e.todolists.map((function(t){return B({},t,{tasks:[]})}))});case $:return B({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?B({},t,{tasks:e.tasks}):t}))});case G:return B({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?B({},t,{tasks:[].concat(Object(I.a)(t.tasks),[e.newTask])}):t}))});case W:return B({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?B({},t,{tasks:t.tasks.map((function(t){return t.id!==e.newTask.id?t:e.newTask}))}):t}))});case"TODOLIST/REDUCER/CHANGE_TODOLIST_TITLE":return B({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?B({},t,{title:e.title}):t}))});case J:return B({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?B({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case z:return B({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});default:return t}}}),ft=Object(ut.d)(pt,Object(ut.a)(dt.a));c.a.render(s.a.createElement(w.a,{store:ft},s.a.createElement(lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},22:function(t,e,n){},75:function(t,e,n){t.exports=n(105)},80:function(t,e,n){}},[[75,1,2]]]);
//# sourceMappingURL=main.c1866c6c.chunk.js.map