(this.webpackJsonptodolist2=this.webpackJsonptodolist2||[]).push([[0],{30:function(t,e,n){t.exports=n(60)},35:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(11),i=n.n(r),s=(n(35),n(1)),c=n(12),l=n(3),u=n(2),d=n(4),p=(n(7),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={error:!1,title:""},n.onChangingValue=function(t){n.setState({error:!1,title:t.currentTarget.value})},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t?n.setState({error:!0}):(n.setState({error:!1}),n.props.addTask(t))},n.onEnterPress=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"";return o.a.createElement("div",{className:"todoList-header"},o.a.createElement("h3",{className:"todoList-header__title"},n.props.title),o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{onKeyPress:n.onEnterPress,onChange:n.onChangingValue,className:t,value:n.state.title,type:"text",placeholder:"New item name"}),o.a.createElement("button",{onClick:n.onAddItemClick},"Add")))},n}return Object(d.a)(e,t),e}(o.a.Component)),f=n(13),h=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:n.props.task.title,classForInput:""},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){""!==n.state.title?(n.props.changeTitle(n.props.task,n.state.title),n.setState({editMode:!1})):n.setState({classForInput:"error"})},n.onTitleChanged=function(t){var e=t.currentTarget.value;n.setState({title:e})},n.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeStatus(n.props.task,e)},n.deleteTask=function(){n.props.deleteTask(n.props.task.id)},n.render=function(){var t=2===n.props.task.status?"todoList-task done":"todoList-task";return o.a.createElement("div",{className:t},o.a.createElement("input",{type:"checkbox",checked:2===n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?o.a.createElement("input",{className:n.state.classForInput,onChange:n.onTitleChanged,onBlur:n.deactivateEditMode,autoFocus:!0,value:n.state.title}):o.a.createElement("span",{onClick:n.activateEditMode},n.props.task.id," -",n.props.task.title),o.a.createElement("span",null,", priority: ",n.props.task.priority),o.a.createElement("button",{onClick:n.deleteTask},"X"))},n}return Object(d.a)(e,t),e}(o.a.Component),T=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).render=function(){var t=n.props.tasks.map((function(t){return o.a.createElement(h,{deleteTask:n.props.deleteTask,task:t,changeTitle:n.props.changeTitle,changeStatus:n.props.changeStatus})}));return o.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(d.a)(e,t),e}(o.a.Component),m=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onHideFiltersClick=function(){var t=n.state.isHidden;n.setState({isHidden:!t})},n.onShowFiltersClick=function(){var t=n.state.isHidden;n.setState({isHidden:!t})},n.render=function(){var t="All"===n.props.filterValue?"filter-active":"",e="Completed"===n.props.filterValue?"filter-active":"",a="Active"===n.props.filterValue?"filter-active":"";return o.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{onClick:n.onAllFilterClick,className:t},"All"),o.a.createElement("button",{onClick:n.onCompletedFilterClick,className:e},"Completed"),o.a.createElement("button",{onClick:n.onActiveFilterClick,className:a},"Active")),!n.state.isHidden&&o.a.createElement("span",{onClick:n.onHideFiltersClick},"Hide"),n.state.isHidden&&o.a.createElement("span",{onClick:n.onShowFiltersClick},"Show"))},n}return Object(d.a)(e,t),e}(o.a.Component),k=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={title:n.props.title,editMode:!1},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){""!==n.state.title?(n.props.changeToDoListTitle(n.state.title),n.setState({editMode:!1})):n.setState({classForInput:"error"})},n.onTitleChanged=function(t){var e=t.currentTarget.value;n.setState({title:e})},n.render=function(){return o.a.createElement("div",{className:"todoList-header"},n.state.editMode?o.a.createElement("input",{className:n.state.classForInput,onChange:n.onTitleChanged,onBlur:n.deactivateEditMode,autoFocus:!0,value:n.state.title}):o.a.createElement("h3",{className:"todoList-header__title",onClick:n.activateEditMode},n.state.title),"  ",o.a.createElement("button",{onClick:n.props.deleteToDoList},"X"))},n}return Object(d.a)(e,t),e}(o.a.Component),O=n(9),v=n(16),E=n(28).create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}}),g=function(){return E.get()},b=function(t){return E.post("",{title:t})},C=function(t){return E.get("/".concat(t,"/tasks"))},D=function(t){return E.delete("/".concat(t))},j=function(t,e){return E.post("/".concat(t,"/tasks"),{title:e})},y=function(t,e){return E.delete("/".concat(t,"/tasks/").concat(e))},L=function(t,e,n){return E.put("/".concat(t,"/tasks/").concat(e),n)},S=function(t,e){return E.put("/".concat(t,"/"),e)};function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var A="TODOLIST/REDUCER/ADD_TODOLIST",F="TODOLIST/REDUCER/ADD_TASK",N="TODOLIST/REDUCER/CHANGE_TASK",P="TODOLIST/REDUCER/DELETE_TASK",R="TODOLIST/REDUCER/DELETE_TODOLIST",M="TODOLIST/REDUCER/SET_TODOLISTS",_="TODOLIST/REDUCER/SET_TASKS",H={todolists:[]};function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(n,!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var K=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).nextTaskId=0,n.state={filterValue:"All",tasks:[]},n.restoreState=function(){var t=n.props.id;n.props.setTasks(t)},n.changeFilter=function(t){n.setState({filterValue:t})},n.addTask=function(t){var e=n.props.id;n.props.addNewTask(t,e)},n.changeTask=function(t,e){var a=n.props.id;n.props.changeTask(t,e,a)},n.changeStatus=function(t,e){var a=V({},t,{status:e});n.changeTask(t,a)},n.changeTitle=function(t,e){var a=V({},t,{title:e});n.changeTask(t,a)},n.changeToDoListTitle=function(t){var e=n.props.id;n.props.changeToDoListTitle(e,t)},n.deleteToDoList=function(){var t=n.props.id;n.props.deleteToDoList(t)},n.deleteTask=function(t){var e=n.props.id;n.props.deleteTask(e,t)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"todoList"},o.a.createElement("div",{className:"todoList-header"},o.a.createElement(k,{changeToDoListTitle:n.changeToDoListTitle,deleteToDoList:n.deleteToDoList,title:n.props.title}),o.a.createElement(p,{addTask:n.addTask})),o.a.createElement(T,{changeTitle:n.changeTitle,deleteTask:n.deleteTask,changeStatus:n.changeStatus,tasks:e.filter((function(t){switch(n.state.filterValue){case"All":return!0;case"Completed":return 2===t.status;case"Active":return 0===t.status;default:return!0}}))}),o.a.createElement(m,{changeFilter:n.changeFilter,filterValue:n.state.filterValue})))},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),x=Object(O.b)((function(t){return{toDoList:t.todolists}}),{changeTask:function(t,e,n){return function(a,o){L(n,t.id,e).then((function(t){0===t.data.resultCode&&a(function(t,e){return{type:N,newTask:t,todolistId:e}}(t.data.data.item,n))}))}},deleteTask:function(t,e){return function(n,a){y(t,e).then((function(a){0===a.data.resultCode&&n(function(t,e){return{type:P,todolistId:t,taskId:e}}(t,e))}))}},deleteToDoList:function(t){return function(e,n){D(t).then((function(n){0===n.data.resultCode&&e(function(t){return{type:R,todolistId:t}}(t))}))}},changeToDoListTitle:function(t,e){return function(n,a){S(t,e).then((function(a){0===a.data.resultCode&&n(function(t,e){return{type:"TODOLIST/REDUCER/CHANGE_TODOLIST_TITLE",todolistId:t,title:e}}(t,e))}))}},setTasks:function(t){return function(e,n){C(t).then((function(n){var a=n.data.items;e(function(t,e){return{type:_,tasks:t,todolistId:e}}(a,t))}))}},addNewTask:function(t,e){return function(n,a){j(e,t).then((function(t){var a=t.data.data.item;n(function(t,e){return{type:F,newTask:t,todolistId:e}}(a,e))}))}}})(K),B=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).addToDoList=function(t){n.props.addToDoList(t)},n.render=function(){var t=n.props.toDoList.map((function(t){return o.a.createElement(x,{id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(p,{addTask:n.addToDoList})),o.a.createElement("div",{className:"App"},t))},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.setTodoLists()}}]),e}(o.a.Component),G=Object(O.b)((function(t){return{toDoList:t.todolists}}),{setTodoLists:function(){return function(t,e){g().then((function(e){var n;t((n=e.data,{type:M,todolists:n}))}))}},addToDoList:function(t){return function(e,n){b(t).then((function(t){var n;e((n=t.data.data.item,{type:A,newToDoList:n}))}))}}})(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(10),W=n(29),X=Object(J.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:return I({},t,{todolists:[].concat(Object(v.a)(t.todolists),[e.newToDoList])});case M:return I({},t,{todolists:e.todolists.map((function(t){return I({},t,{tasks:[]})}))});case _:return I({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?I({},t,{tasks:e.tasks}):t}))});case F:return I({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?I({},t,{tasks:[].concat(Object(v.a)(t.tasks),[e.newTask])}):t}))});case N:return I({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?I({},t,{tasks:t.tasks.map((function(t){return t.id!==e.newTask.id?t:e.newTask}))}):t}))});case"TODOLIST/REDUCER/CHANGE_TODOLIST_TITLE":return I({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?I({},t,{title:e.title}):t}))});case P:return I({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?I({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case R:return I({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});default:return t}}),Object(J.a)(W.a));i.a.render(o.a.createElement(O.a,{store:X},o.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},7:function(t,e,n){}},[[30,1,2]]]);
//# sourceMappingURL=main.c12f3bdf.chunk.js.map